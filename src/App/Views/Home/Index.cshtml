@using Microsoft.AspNetCore.Hosting
@using Newtonsoft.Json
@inject IHostingEnvironment HostingEnvironment

<!DOCTYPE html>
<html lang="nl"
      data-app-mobile="@JsonConvert.SerializeObject(BrowserDetector.IsMobileDevice())"
      data-app-version="@ViewBag.AppVersion"
      data-app-setup-mode="@JsonConvert.SerializeObject(!await SetupState.HasBeenSetup())">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>Financial App</title>

        <base href="/">
        
        @{
            await Html.RenderPartialAsync("_msapplication");
        }

        <link href="favicon.ico" rel="favicon" asp-append-version="true"/>
        <link rel="apple-touch-icon" fa-href="/images/tiles/apple-tile.png" asp-append-version="true"/>

        <link href="/build/app.css" rel="stylesheet" asp-append-version="true"/>
        
        <environment include="Development">
            <script src="/js/eventsource-polyfill.js" asp-append-version="true"></script>
        </environment>
    </head>
    <body data-bind="css: { 'anonymous': !context.authentication.isAuthenticated(), 'authenticated': context.authentication.isAuthenticated }">
        <loading-bar></loading-bar>

        <top-menu></top-menu>

        <page-container class="container"></page-container>

        <span style="color:#FFF" id="scrollBottom">&nbsp;</span>

        <noscript>
            <div class="alert alert-danger">
                <strong>Sorry!</strong> Om deze applicatie te gebruiken heb je javascript benodigd. Dit heb je niet aan staan.
            </div>
        </noscript>

        <script src="/build/lib.js" asp-append-version="true"></script>
        <script src="/build/app.js" asp-append-version="true"></script>
    </body>
</html>