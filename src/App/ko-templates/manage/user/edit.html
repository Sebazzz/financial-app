<h1 ko-text="title"></h1>

<div class="alert alert-danger" ko-visible="errorMessage">
    <strong>Oeps!</strong> <span ko-text="errorMessage"></span>
</div>

<div ko-with="user">
    <form novalidate role="form" ko-form>
        <div class="form-group">
            <label for="userName">Gebruikersnaam:</label>
            <input id="userName"
                   ko-disabled="$parent.isCurrentUser"
                   ko-value="userName"
                   type="text" class="form-control" maxlength="100" required />

            <div ko-validation-message="userName"></div> 
        </div>

        <div class="form-group">
            <label for="email">E-mail adres:</label>
            <input id="email" name="email" type="email" class="form-control" ko-value="email" maxlength="150" required />

            <div ko-validation-message="email"></div>
        </div>

        <!-- ko if: $parent.id() === 0 -->
        <div class="form-group">
            <label for="newPassword">Nieuw wachtwoord:</label>
            <input id="newPassword" name="newPassword" type="password" class="form-control" ko-value="newPassword" maxlength="150" />

            <div ko-validation-message="newPassword"></div>
        </div>

        <div class="form-group">
            <label for="currentPassword" data-bind="visible: $parent.id() === 0">Wachtwoord (herhalen):</label>
            <label for="currentPassword" data-bind="visible: $parent.id() !== 0">Huidig wachtwoord:</label>
            <input id="currentPassword" name="currentPassword" type="password" class="form-control" ko-value="currentPassword" maxlength="150" />

            <div ko-validation-message="currentPassword"></div>
        </div>
        <!-- /ko -->

        <p class="button-bar">
            <button class="btn btn-primary">Opslaan</button>
            <a href="#" data-bind="route: manage.user" class="btn btn-link">Annuleren</a>
        </p>
    </form>
</div>